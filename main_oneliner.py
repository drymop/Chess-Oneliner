(lambda Dr,Db,Dn,Dp,R8,FI,FO,P3,PC,PB,HF,AB:(lambda Dq,DM,FM,NT:(lambda FC:(lambda Gk,Gs,GP,Fc:(lambda Gp:(lambda GM:(lambda NM:(lambda MU,MC,D={}:D.update({0:[[4,8,6,2,0,6,8,4],[10]*8,[-1]*8,[-1]*8,[-1]*8,[-1]*8,[11]*8,[5,9,7,3,1,7,9,5]],1:0})or D.update({2:GM(D[0],D[1])})or any(print(chr(27)+"c")or PB(D[0])or print()or(not D[2]and[print("Game over")])or print(f"{('White','Black')[D[1]]}'s turn:")or D.update({3:MC(D[0],D[2])if D[1]else MU(D[0],D[2])})or D[3]and D.update({0:D[3][0],1:1-D[1],2:GM(D[3][0],1-D[1])})for _ in iter(int,1)))((lambda b,M:print(">> ", end="")or{NT(b,m[0],*m[1],*m[2]):m for m in M}.get(input().strip().lower(),0)),(lambda b,M:print("... Thinking ...")or M[NM(NM,b,M,2,-1e6,1e6,-1)[1]])))(lambda f,b,M,d,A,B,p,D={}:d==0 and(p*HF(b),0)or not M and(Fc(b,p<0)and (-1e6,0)or(0,0))or D.update({0:-1e7,1:-1,2:A,3:B})or[D.update({4:-f(f,m[0],GM(m[0],p>0),d-1,-D[3],-D[2],-p,{})[0]})or D[4]<=D[0]or D.update({0:D[4],1:i,2:max(D[2],D[4])})for i,m in enumerate(M)]and(D[0],D[1])))((lambda b,p,K=[],M=[]:K.append([(i,j)for i in R8 for j in R8 if b[i][j]==p][0])or M.append([])or any({0:lambda r,c:Gk(b,r,c,p,M[0]),2:lambda r,c:Gs(b,r,c,K[0],p,Dq,M[0]),4:lambda r,c:Gs(b,r,c,K[0],p,Dr,M[0]),6:lambda r,c:Gs(b,r,c,K[0],p,Db,M[0]),8:lambda r,c:Gs(b,r,c,K[0],p,Dn,M[0],2),10:lambda r,c:Gp(b,r,c,K[0],p,M[0]),}.get(b[i][j]-p,lambda r,c:0)(i,j) for i in R8 for j in R8)or K.clear()or M.pop())))((lambda b,r,c,k,p,M,B=[]:not(GP(FM(b,r,c,r+Dp[p],c),r,c,r+Dp[p],c,k,p,M),r!=(1,6)[p]or b[(2,5)[p]][c]>=0 or b[P3[p]][c]>=0 or B.append(FM(b,r,c,P3[p],c))or FC(B[0],*k,1-p)and B.pop()or M.append((B.pop(),(r,c),(P3[p],c))),any(GP(FM(b,r,c,R,C),r,c,R,C,k,p,M)for C in(c-1,c+1)for R in(r+Dp[p],) if 0<=C<8 and b[R][C]in PC[1-p])))))((lambda b,r,c,p,M:not[FO(R,C)or b[R][C]in PC[p]or FC(b,R,C,1-p)or M.append((FM(b,r,c,R,C),(r,c),(R,C)))for x,y in Dq for R,C in[(r+x,c+y)]]),(lambda b,r,c,k,p,D,M,s=8,B=[]:not[any(FO(R,C)or b[R][C]in PC[p]or B.append(FM(b,r,c,R,C))or 1-FC(B[0],*k,1-p)and M.append((B[0],(r,c),(R,C)))or B.clear()or ~b[R][C]for i in range(1,s)for R,C in[(r+i*x,c+i*y)])for x,y in D]),(lambda B,r,c,R,C,k,p,M:1-FC(B,*k,1-p)and(R%7 or M.extend(([[P+p if (i,j)==(R,C)else B[i][j]for j in R8]for i in R8],(r,c),(R,C))for P in range(2,10,2))) and M.append((B,(r,c),(R,C)))),(lambda b,p:FC(b,*([(i,j)for i in R8 for j in R8 if b[i][j]-p==0][0]),1-p))))((lambda b,r,c,p,P=[]:any((any(FI(r+x,c+y) and b[r+x][c+y]-p==0 for x,y in Dq),any((any(FO(r+i*x,c+i*y)or P.clear()or P.append(b[r+i*x][c+i*y])or P[0]+1 and P[0]+p!=1 for i in range(1,8)),)and P and P.pop()-p in DM[x,y]for x,y in Dq),any(FI(r+x,c+y) and b[r+x][c+y]-p==8 for x,y in Dn),any(FI(r-Dp[p],C) and b[r-Dp[p]][C]-p==10 for C in (c-1,c+1)))))))(Dr+Db,{**{d:(2,4)for d in Dr},**{d:(2,6)for d in Db}},(lambda b,r,c,R,C:[[b[r][c] if (i,j)==(R,C)else -1 if (i,j)==(r,c)else b[i][j]for j in R8] for i in R8]),(lambda b,B,r,c,R,C:f"{AB[c]}{r+1}{AB[C]}{R+1}{(0,'q','r','b','n')[B[R][C]]if b[r][c]//2==5 and R%7==0 else''}")))([(0,1),(0,-1),(1,0),(-1,0)],[(1,1),(-1,1),(1,-1),(-1,-1)],((1,2),(-1,2),(1,-2),(-1,-2),(2,1),(-2,1),(2,-1),(-2,-1)),(1,-1),range(8),(lambda r,c:0<=r<8 and 0<=c<8),(lambda r,c:2-(0<=r<8)-(0<=c<8)),(3,4),({0,2,4,6,8,10},{1,3,5,7,9,11}),(lambda b:print("     +---+---+---+---+---+---+---+---+\n  8  | %s | %s | %s | %s | %s | %s | %s | %s |\n     +---+---+---+---+---+---+---+---+\n  7  | %s | %s | %s | %s | %s | %s | %s | %s |\n     +---+---+---+---+---+---+---+---+\n  6  | %s | %s | %s | %s | %s | %s | %s | %s |\n     +---+---+---+---+---+---+---+---+\n  5  | %s | %s | %s | %s | %s | %s | %s | %s |\n     +---+---+---+---+---+---+---+---+\n  4  | %s | %s | %s | %s | %s | %s | %s | %s |\n     +---+---+---+---+---+---+---+---+\n  3  | %s | %s | %s | %s | %s | %s | %s | %s |\n     +---+---+---+---+---+---+---+---+\n  2  | %s | %s | %s | %s | %s | %s | %s | %s |\n     +---+---+---+---+---+---+---+---+\n  1  | %s | %s | %s | %s | %s | %s | %s | %s |\n     +---+---+---+---+---+---+---+---+\n       a   b   c   d   e   f   g   h"%tuple(("\u2654","\u265A","\u2655","\u265B","\u2656","\u265C","\u2657","\u265D","\u2658","\u265E","\u2659","\u265F"," ")[p]for r in reversed(b)for p in r))),(lambda b: sum((0,0,900,-900,500,-500,330,-330,320,-320,100,-100,0)[p]for r in b for p in r)),("a","b","c","d","e","f","g","h"))